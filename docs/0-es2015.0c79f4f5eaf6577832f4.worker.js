!function(e){var t={};function a(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,(function(t){return e[t]}).bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s="38h9")}({"38h9":function(e,t,a){"use strict";a.r(t);class n{}class r{}class i{calculateDay(e,t,a,r,i,l){l(`Progress: day ${i.Date}`);let o=i.Rainfall.filter(e=>e.Rainfall<=t),u=i.Tide.filter(e=>e.TideHeight<=a&&!isNaN(e.TideHeight)),s=i.Weather.filter(t=>t.WindSpeed<=e&&!isNaN(t.WindSpeed));if(r&&(s=s.filter(e=>e.Timestamp>=i.Daylight.Sunrise&&e.Timestamp<=i.Daylight.Sunset),u=u.filter(e=>e.Timestamp>=i.Daylight.Sunrise&&e.Timestamp<=i.Daylight.Sunset),o=o.filter(e=>e.Timestamp>=i.Daylight.Sunrise&&e.Timestamp<=i.Daylight.Sunset)),o.length>0&&s.length>0&&u.length>0){let e=0,t=i.Daylight.Sunrise.getHours(),a=i.Daylight.Sunset.getHours();for(let n=t;n<=a;n++){let t=s.filter(e=>e.Timestamp.getHours()===n),a=u.filter(e=>e.Timestamp.getHours()===n),r=o.filter(e=>e.Timestamp.getHours()===n);t.length>0&&a.length>0&&r.length>0&&e++}let r=new n;return r.hours=e,r.validDayData=!0,r}let f=new n;return f.hours=0,f.validDayData=!1,f}calculateHours(e,t,a,n,i,l){let o=[];for(let r of i){console.log("web worker working with day",r.Date);let i=this.calculateDay(e,t,a,n,r,l);o.push(i)}var u=new r;u.totalDaysInRange=i.length,u.validDataDays=o.filter(e=>e.validDayData).length,u.percentageOfValidDays=u.validDataDays/u.totalDaysInRange*100;let s=0;for(let r of o.map(e=>e.hours))s+=r;return u.hours=s,u}}addEventListener("message",({data:e})=>{return void 0,void 0,a=function*(){let t=new i,a=e.maxWindspeed,n=e.maxRainfall,r=e.maxTideHeight,l=e.daylightOnly,o=e.data,u=yield t.calculateHours(a,n,r,l,o,postMessage);postMessage(u)},new((t=void 0)||(t=Promise))((function(e,n){function r(e){try{l(a.next(e))}catch(t){n(t)}}function i(e){try{l(a.throw(e))}catch(t){n(t)}}function l(a){var n;a.done?e(a.value):(n=a.value,n instanceof t?n:new t((function(e){e(n)}))).then(r,i)}l((a=a.apply(void 0,[])).next())}));var t,a})}});